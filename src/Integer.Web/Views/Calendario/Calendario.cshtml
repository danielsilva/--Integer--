@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Integer.Web.ViewModels.EventoViewModel

@using SquishIt.Framework;

<div id="divCalendar" style="margin-left:auto; margin-right:auto;">
    <h3 id="calendarTitle" style="text-align:center; margin-left:auto; margin-right:auto;"></h3>
</div>

<div id="divFormEvent" class="modal hide" style="width:710px;position:absolute;">
    <form id="frmEvent" class="well">
        <div class="row">
            <button id="btnModalClose" type="button" class="close" data-dismiss="modal" aria-hidden="true" title="Fechar">&times;</button>
        </div>
        <div class="row">
            <div id="msgPanel"></div>
        </div>
        <div class="row">
            <input id="txtIdEvento" type="hidden" name="Id" />
            <div class="span3">
                <label for="txtNome">Nome</label>
                <input type="text" id="txtNome" name="Nome" class="span3" />
                
                <label for="txtDescricao">Descrição</label>
                <textarea id="txtDescricao" name="Descricao" class="input-xlarge span3" style="height:84px;" rows="4" placeHolder="ex.: 'telefones p/ contato', 'venha com a blusa do grupo', 'endereço' etc" ></textarea>
            </div>
            <div class="span3">
                <label for="ddlTipo">Tipo</label>
                @Html.DropDownListFor(m => m.Tipo, new SelectList(ViewBag.Tipos, "Id", "Nome"), "Selecione", new { @id = "ddlTipo", @class = "span3" })
                
                <div class="span2" style="margin-left:0px;">
                    <label for="txtDateBegin">Começa em</label>
                    <input type="text" id="txtDateBegin" name="DataInicio" size="16" class="datetimeField span2" />
                </div>    
                <div class="span2" style="margin-left:0px;">
                    <label for="txtDateEnd">Termina em</label>
                    <input type="text" id="txtDateEnd" name="DataFim" size="16" class="datetimeField span2" />
                </div>  
            </div>
        </div>
        <div class="row" style="margin: 10px 0px 10px 0px;">
            <div class="span3">
                <button type="button" id="btnReserveLocal" class="btn btn-info dropdown-toggle pull-left"><i class="icon-plus-sign icon-white"></i> Reservar Local</button>
            </div>
        </div>
        <div id="reservedLocals" style="overflow-y:auto;"></div>
        <div class="modal-footer" style="margin-top:20px;">
            <div id="formEditTools" class="pull-left" style="display:none;">
                <span title="Copiar" data-original-title="Copiar" rel="tooltip" id="btnCopy" aria-hidden="true" data-icon="&#xe000;" class="icon-edit-tool"></span>
                <span title="Cancelar" data-original-title="Cancelar" rel="tooltip" id="btnCancelEvent" aria-hidden="true" data-icon="&#xe001;" class="icon-edit-tool"></span>
            </div>
            <input type="submit" id="btnSave" name="btnSave" data-loading-text="Salvando..." class="btn btn-primary" style="margin-left:20px;width:100px;" value="Salvar" />
        </div>
    </form>
</div>

@section Styles {
    @MvcHtmlString.Create(Bundle.Css()
        .Add("~/Content/extCalendar/css/extensible-all.css")
        .Add("~/Content/Event.css")
        .Render("~/Content/squished/squished_calendar_#.css"))
}
    
@section Scripts {    
    @MvcHtmlString.Create(Bundle.JavaScript()
        .Add("~/Scripts/Plugins/extCalendar/extensible-core.js")
        .Add("~/Scripts/Plugins/extCalendar/recurrence-debug.js")
        .Add("~/Scripts/Plugins/extCalendar/calendar-debug.js")
        .Add("~/Scripts/Plugins/extCalendar/locale/ext-lang-pt_BR.js")
        .Add("~/Scripts/CalendarView/calendar.js")
        .Add("~/Scripts/CalendarView/event.js")
        .Render("~/Scripts/squished/squished_calendar_#.js"))
}






